<?xml version="1.0" encoding="UTF-8"?>
<!-- edited with XMLSpy v2008 sp1 (http://www.altova.com) by abc (abc) -->
<Protocols xmlns="http://www.TheBraves.com/XMLProtocol" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.TheBraves.com/XMLProtocol ProtocolDef.xsd">
	<ProtocolGroup Name="Monitoring" GenParameterRouteContext="false" IsMobile="false" IsServer="true" Desc="Game ranking Server Protocol">

    <!-- ============================  Access monitoring service from generic client ============================================ -->

    <Command Name="GetInstanceList" Reliable="true" Crypto="No" Trace="DBG1" Desc="Add a player to ranking">
		  <Cmd>
      </Cmd>
      <Res>
        <Params Type="PerformanceCounterInstanceInfo" Name="CounterInstances" IsArray="true"/>
        <Params Type="uint32" Name="TotalInstanceCount"/>
      </Res>
	  </Command>

    <Command Name="RequestCounterValues" Reliable="true" Crypto="No" Trace="DBG1" Desc="Remove a player to ranking">
      <Cmd>
        <Params Type="EntityUID" Name="InstanceUID"/>
      </Cmd>
      <Res>
        <Params Type="EntityUID" Name="InstanceUID"/>
        <Params Type="uint64" Name="CounterValues" IsArray="true"/>
      </Res>
    </Command>


    <!-- ============================  Access monitoring service from a server ============================================ -->
    
    <C2SEvent Name="PerformanceCounterNew" Reliable="true" Crypto="No" Trace="DBG2" Desc="Counter instance is created">
      <Params Type="String" Name="InstanceName"/>
      <Params Type="EntityUID" Name="InstanceUID"/>
      <Params Type="PerformanceCounterInfo" Name="NewCounters" IsArray="true"/>
    </C2SEvent>

    <C2SEvent Name="PerformanceCounterFree" Reliable="true" Crypto="No" Trace="DBG2" Desc="Counter instance is deleted">
      <Params Type="EntityUID" Name="FreeInstances" IsArray="true"/>
    </C2SEvent>

    <C2SEvent Name="PerformanceCounterUpdate" Reliable="true" Crypto="No" Trace="DBG2" Desc="Counter update broadcast">
      <Params Type="EntityUID" Name="InstanceUID"/>
      <Params Type="uint64" Name="CounterValues" IsArray="true"/>
    </C2SEvent>

    <S2CEvent Name="PerformanceCounterUpdateCounterInfo" Reliable="true" Crypto="No" Trace="DBG2" Desc="Request from server">
      <Params Type="EntityUID" Name="InstanceUID"/>
    </S2CEvent>

    <!-- =============================  ======================================= -->

	</ProtocolGroup>
</Protocols>
