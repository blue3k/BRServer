<?xml version="1.0" encoding="UTF-8"?>
<!-- edited with XMLSpy v2008 sp1 (http://www.altova.com) by abc (abc) -->
<Protocols xmlns="http://www.StormForge.com/XMLProtocol" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.StormForge.com/XMLProtocol ../../StormForge/Engine/Data/Protocol/ProtocolDef.xsd">
	<ProtocolGroup Name="GameInstance" GenParameterRouteContext="true" IsMobile="false" IsServer="true" Desc="Game instance service Protocol">
		<!-- ============================  Server Generic  ============================================ -->

    <C2SEvent Name="DeleteGame" Reliable="true" Crypto="No" Trace="Debug1" Desc="Game instance deletion">
    </C2SEvent>


    <Command Name="JoinGame" Reliable="true" Crypto="No" Trace="Debug1" Desc="Join Game">
		<Cmd>
			<Params Type="PlayerInformation" Name="Player"/>
			<Params Type="AuthTicket" Name="Ticket"/>
      <Params Type="PlayerRole" Name="RequestedRole"/>
		</Cmd>
		<Res>
			<Params Type="NetAddress" Name="GameInsSvr"/>
      <Params Type="uint32" Name="TimeStamp"/>
			<Params Type="GameStateID" Name="GameState"/>
      <Params Type="uint8" Name="Day"/>
      <Params Type="uint8" Name="MaxPlayer"/>
      <Params Type="uint8" Name="PlayerIndex"/>
      <Params Type="uint8" Name="PlayerCharacter"/>
      <Params Type="PlayerRole" Name="Role"/>
      <Params Type="uint8" Name="Dead"/>
      <Params Type="uint8" Name="IsNewJoin"/>
      <Params Type="uint8" Name="ChatHistoryData" IsArray="true"/>
      <Params Type="uint8" Name="GameLogData" IsArray="true"/>
    </Res>
	</Command>

	<S2CEvent Name="PlayerJoined" Reliable="true" Crypto="No" Trace="Debug1" Desc="Player Joined">
		<Params Type="PlayerInformation" Name="JoinedPlayer"/>
		<Params Type="PlayerRole" Name="JoinedPlayerRole"/>
		<Params Type="uint8" Name="JoinedPlayerDead"/>
    <Params Type="uint8" Name="JoinedPlayerIndex"/>
    <Params Type="uint8" Name="JoinedPlayerCharacter"/>
  </S2CEvent>


  <C2SEvent Name="SetConfigPreset" Reliable="true" Crypto="No" Trace="Debug1" Desc="Change configue preset">
    <Params Type="uint32" Name="PresetID"/>
  </C2SEvent>


    <Command Name="LeaveGame" Reliable="true" Crypto="No" Trace="Debug1" Desc="Leave Game">
		<Cmd>
			<Params Type="PlayerID" Name="PlayerID"/>
		</Cmd>
		<Res>
		</Res>
	</Command>

	<S2CEvent Name="PlayerLeft" Reliable="true" Crypto="No" Trace="Debug1" Desc="Player left">
		<Params Type="PlayerID" Name="LeftPlayerID"/>
	</S2CEvent>

	
	<Command Name="KickPlayer" Reliable="true" Crypto="No" Trace="Debug1" Desc="Kick player">
		<Cmd>
			<Params Type="PlayerID" Name="PlayerID"/>
			<Params Type="PlayerID" Name="PlayerToKick"/>
		</Cmd>
		<Res>
		</Res>
	</Command>

	<S2CEvent Name="PlayerKicked" Reliable="true" Crypto="No" Trace="Debug1" Desc="Player kicked">
		<Params Type="PlayerID" Name="KickedPlayerID"/>
	</S2CEvent>
	
	
	<Command Name="AssignRole" Reliable="true" Crypto="No" Trace="Debug1" Desc="Assign role">
		<Cmd>
			<Params Type="PlayerID" Name="PlayerID"/>
		</Cmd>
		<Res>
		</Res>
	</Command>

	<S2CEvent Name="RoleAssigned" Reliable="true" Crypto="No" Trace="Debug1" Desc="Assign role">
		<Params Type="PlayerRole" Name="Role"/>
	</S2CEvent>

	
	<C2SEvent Name="ChatMessage" Reliable="true" Crypto="No" Trace="Debug1" Desc="Chatting message">
		<Params Type="PlayerID" Name="PlayerID"/>
		<Params Type="PlayerRole" Name="Role"/>
		<Params Type="String" Name="ChatMessage"/>
	</C2SEvent>

	<Command Name="AdvanceGame" Reliable="true" Crypto="No" Trace="Debug1" Desc="Advance game">
		<Cmd>
			<Params Type="PlayerID" Name="PlayerID"/>
		</Cmd>
		<Res>
		</Res>
	</Command>

  <S2CEvent Name="GameAdvanced" Reliable="true" Crypto="No" Trace="Debug1" Desc="The game state is advanced">
    <Params Type="uint32" Name="TimeStamp"/>
		<Params Type="GameStateID" Name="GameState"/>
    <Params Type="uint8" Name="Day"/>
  </S2CEvent>

	<S2CEvent Name="GameEnded" Reliable="true" Crypto="No" Trace="Debug1" Desc="Game is ended">
		<Params Type="GameWinner" Name="Winner"/>
    <Params Type="uint32" Name="GainedExp"/>
    <Params Type="uint32" Name="GainedGameMoney"/>
    <Params Type="PlayerRole" Name="PlayedRole"/>
    <Params Type="uint8" Name="IsWon"/>
  </S2CEvent>

    <Command Name="VoteGameAdvance" Reliable="true" Crypto="No" Trace="Debug1" Desc="*Vote game advance">
      <Cmd>
        <Params Type="PlayerID" Name="PlayerID"/>
      </Cmd>
      <Res>
      </Res>
    </Command>

    <S2CEvent Name="GameAdvanceVoted" Reliable="true" Crypto="No" Trace="Debug1" Desc="*GameAdvance is Voted">
      <Params Type="PlayerID" Name="Voter"/>
    </S2CEvent>

    <Command Name="Vote" Reliable="true" Crypto="No" Trace="Debug1" Desc="Assign role">
		<Cmd>
			<Params Type="PlayerID" Name="PlayerID"/>
			<Params Type="PlayerID" Name="VoteTarget"/>
			<Params Type="uint32" Name="ActionSerial"/>
		</Cmd>
		<Res>
		</Res>
    </Command>

	  <S2CEvent Name="Voted" Reliable="true" Crypto="No" Trace="Debug1" Desc="Player Voted">
		  <Params Type="PlayerID" Name="Voter"/>
		  <Params Type="PlayerID" Name="VotedTarget"/>
	  </S2CEvent>

	  <S2CEvent Name="VoteEnd" Reliable="true" Crypto="No" Trace="Debug1" Desc="Player Voted">
		  <Params Type="PlayerID" IsArray="true" Name="Voted"/>
	  </S2CEvent>

	  <S2CEvent Name="PlayerRevealed" Reliable="true" Crypto="No" Trace="Debug1" Desc="Player Voted">
		  <Params Type="PlayerID" Name="RevealedPlayerID"/>
		  <Params Type="PlayerRole" Name="Role"/>
		  <Params Type="PlayerRevealedReason" Name="Reason"/>
	  </S2CEvent>

    <S2CEvent Name="PlayerKilled" Reliable="true" Crypto="No" Trace="Debug1" Desc="Player Killed">
		  <Params Type="PlayerID" Name="KilledPlayer"/>
		  <Params Type="PlayerKilledReason" Name="Reason"/>
    </S2CEvent>

    <Command Name="GamePlayAgain" Reliable="true" Crypto="No" Trace="Debug1" Desc="Play again with the current players">
      <Cmd>
        <Params Type="PlayerID" Name="LeadPlayer" Desc="Player who pressed replay"/>
        <Params Type="PartyUID" Name="PartyUID" Desc="Party ID"/>
      </Cmd>
      <Res>
        <Params Type="uint32" Name="ReplayMemberCount" Desc="Member count"/>
      </Res>
    </Command>

    <S2CEvent Name="GamePlayAgain" Reliable="true" Crypto="No" Trace="Debug1" Desc="Somebody pressed play again. Only one of PartyUID and GameInsUID can have a value">
      <Params Type="PlayerID" Name="TargetPlayer" Desc="Event target player"/>
      <Params Type="PartyUID" Name="PartyUID" Desc="Party ID"/>
      <Params Type="PlayerID" Name="LeadPlayer" Desc="Player who called play again"/>
    </S2CEvent>

    <Command Name="GameRevealPlayer" Reliable="true" Crypto="No" Trace="Debug1" Desc="Player. revive himself">
      <Cmd>
        <Params Type="PlayerID" Name="PlayerID"/>
        <Params Type="PlayerID" Name="TargetPlayerID" IsArray="true"/>
      </Cmd>
      <Res>
        <Params Type="PlayerID" Name="RevealedPlayerID" IsArray="true"/>
        <Params Type="PlayerRole" Name="RevealedRole" IsArray="true"/>
      </Res>
    </Command>

    <Command Name="GamePlayerRevive" Reliable="true" Crypto="No" Trace="Debug1" Desc="Player. revive himself">
      <Cmd>
        <Params Type="PlayerID" Name="PlayerID"/>
      </Cmd>
      <Res>
      </Res>
    </Command>

    <S2CEvent Name="GamePlayerRevived" Reliable="true" Crypto="No" Trace="Debug1" Desc="Player is revived">
      <Params Type="PlayerID" Name="RevivedPlayerID" Desc="Player who is revived"/>
    </S2CEvent>


    <!-- =============================  ======================================= -->

	</ProtocolGroup>
</Protocols>
